{% extends 'base.html.twig' %}


{% block title %}Appointment
{% endblock %}

{% block body %}
	{{ form_start(form,{'attr': {'novalidate': 'novalidate'}}
	) }}
	<div class="breadcrumb-area gradient-bg bg-cover shadow dark text-light text-center" style="background-image: url({{asset('front/img/banner/6.jpg')}})">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 offset-lg-2">
					<h1>Prendre un rendez-vous</h1>
					<ul class="breadcrumb">
						<li>
							<a href="index-3.html">
								<i class="fas fa-home"></i>
								Acceuil</a>
						</li>
						<li>
							<a href="#">Docteurs</a>
						</li>
						<li class="active">Prendre un Rendez-Vous</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

</br>
<div class="register-area default-padding bg-fixed shadow half text-light" style="background-image : url({{asset('front/img/banner/7.jpg')}})">
	<div class="container">
		<div class="register-items">
			<div class="row align-center">

				<div class="col-lg-6 form">
					<div class="appoinment-box">
						<div class="heading">
							<h2>Reserver Votre Rendez-Vous</h2>
						</div>
						{{ form_start(form,{'attr': {'novalidate': 'novalidate'}}
						) }}

						<div class="row">
							<div class="col-lg-6">
								<div class="form-group">
									{{ form_widget(form.date_rv, {'attr': {'class': '','placeholder': 'Date du rendez-vous'}}) }}
                                    <span class="text-danger">
											<br>
											{{ form_errors(form.type_rv) }}
										</span>
									{% if s == 1 %}
										<span class="text-danger">
											<br>
											La date/Heure que vous avez choisi est Ocuppée !
										</span>
									{% endif %}


								</div>
							</div>

							<div class="col-lg-12">
								<div class="form-group">
									{{ form_widget(form.type_rv, {'attr': {'class': 'form-','placeholder': 'type de rendez'}}) }}
									<span class="text-danger">
										{{ form_errors(form.type_rv) }}</span>
								</div>
							</div>


							<div class="col-lg-6">
								<button type="submit">
									Confirmer Rendez-vous
									<i class="fa fa-paper-plane"></i>
								</button>
							</div>
						</div>
						{{ form_end(form) }}
					</div>
				</div>
                

				<div class="col-lg-6 ">
					<strong>
						Vous pouvez consulter les heures libres de votre specialiste , choisissez l'heure qui vous convient !</strong>
					<div id="calendrier"></div>
				</div>
<div class="col-lg-4 ">

</div>

			</div>
		</div>
        <br>
        
        <h2 style="color : white;"> Si votre rendez-vous est confirmé par le medecin , vous receverez un SMS de confirmation avec la date précise , et vous le trouverez programmé dans votre liste de rendez vous . </h2>
	</div>
</div>






{% block calendar %}

	<style>
		#calendrier {
			width: 70%;
			margin: auto;
		}
	</style>

	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js" integrity="sha256-YicH/8aE660iEnJtgll3vT54dJApy3XkYmqNfGVFEzA=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.css" integrity="sha256-5veQuRbWaECuYxwap/IOE/DAwNxgm4ikX7nrgsqYp88=" crossorigin="anonymous">

	<div id="calendrier"></div>


	<script>
		window.onload = () => {
let calendarElt = document.querySelector("#calendrier")
let calendar = new FullCalendar.Calendar(calendarElt, {
initialView: 'timeGridDay',
locale: 'fr',
timeZone: 'Europe/Paris',
headerToolbar: {
start: 'prev,next today',
center: 'title',
end: 'timeGridDay'
},
events: {{ data |raw }}

})
calendar.render();
}
	</script>
{% endblock %}{% endblock %}
